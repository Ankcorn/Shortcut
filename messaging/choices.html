<!DOCTYPE html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    <script src="vendor/moment.min.js"></script>
</head>
<body>
<div class="screen">
    <div class="header">
        <div class="left">
        </div>
        <div class="centre">
            London Bridge
        </div>
        <div class="right">
        </div>
    </div>
    <div class="choice-content">
        <div class="side-bar">
            <div class="side-bar_items"><img src="./images/coins.png" /><h2>Coins</h2></div>
            <div class="side-bar_items"><img src="./images/cash.png" /><h2>Cash</h2></div>
            <div class="side-bar_items"><img src="./images/card.png" /><h2>Card</h2></div>
        </div>
        <div class="welcome-column">
            <div class="railcard">
                <h2>Welcome, <strong id="name"></strong>. Your railcard is applied to all purchases.</h2>
                <img class="railcard-img" src="railcard.gif"/>
            </div>
            <div class="navigation">
            <button>I want to travel elsewhere</button>
        </div>
        </div>
        <div class="choice-column">
            <h2>Your frequent destinations</h2>
            <div class="details-container">
                
            </div>
        </div>
    </div>
</div>
<script>

window.onload = async function() {
  const response = await fetch('https://chuuchuu-758d6.firebaseio.com/users/abc.json');
  const data = await response.json();

  console.log(data);
  document.querySelector('#name').innerHTML = data.profile.name
  document.querySelector('.details-container').innerHTML = data.favourites.map((el,index) => 
    `<div class="details"><h3>${el}</h3><h4>Adult, 1 ticket</h4></div><div class="action${el === 'London Bridge' ? '-disabled' : ''}"><button>${data.preferrences.type ? 'Return': 'Single'} Â£${(Math.random()*49+1).toFixed(2)}</button></div>`
  ).join('')

}
</script>
</body>